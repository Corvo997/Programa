<script src="arquivos.js"></script>

<div class="row">
    <div class="input-group">
        <div class="input-group-prepend">
            <span class="input-group-text" id="inputGroupFileAddon01">Pasta para Scanear: </span>
        </div>
        <div class="custom-file">
            <input directory webkitdirectory type="file" class="custom-file-input" id="pasta_xmls" aria-describedby="inputGroupFileAddon01">
            <label class="custom-file-label" for="pasta_xmls">Selecione a Pasta</label>
        </div>
    </div>
</div>

<div id="sumario_arquivos" style="display: none;">

    <h3>Sumários de Arquivos:</h3><br>
    <b>Nº de Arquivos: </b><label id="n_arquivos">0</label><br>
    <b>% de Arquivos Processados: </b><label id="porcentagem_arquivos">0%</label><br>
    <b>Tempo Decorrido: </b><label id="tempo_decorrido">00:00:00</label><br>

	<div class="row">
		<div class="col" style="text-align: right;">	
			<button type="button" class="btn btn-success" id="processar" onclick="loadXMLDoc();">PROCESSAR</button>
		</div>
        <div class="col" id="botao_download" style="text-align: left;">    
            <button type="button" style="display: none;" class="btn btn-primary" id="salvar" onclick='xls.exportToXLS("Base_Dados_"+hoje);'>SALVAR ARQUIVO</button>
        </div>
	</div>

    <div class="row" id="informacoes_importacao"></div>

</div>

<script type="text/javascript">   



$("#pasta_xmls").change(function(event) {
let indices = [];
let array = ['xml', 'jpg', 'mp3', 'xml', 'xml', 'css']; //ARRAY QUE VAI ARMAZENAR AS EXTENSOES DO ARQUIVOS FALTA FAZER O METODO
let element = 'xml';
let ids = array.indexOf(element);
while (ids != -1) {
 indices.push(ids);
  ids = array.indexOf(element, ids + 1);
}
console.log(indices);

 for (var i = 0; i < indices.length; i++) {
      //AQUI FICA PARTE ONDE SO VAI SCANEAR OS INDICES COM A EXTENSAO CORRETA
      console.log(indices[i]);
 } 
    
    $("#sumario_arquivos").css({
        display: 'block'
    });
$(".custom-file-label").html($("#pasta_xmls")[0].files[0].path.replace($("#pasta_xmls")[0].files[0].path.split("\\")[$("#pasta_xmls")[0].files[0].path.split("\\").length - 1], ""));
    $("#n_arquivos").html($("#pasta_xmls")[0].files.length);
  
});


</script>
<style type="text/css">
.custom-file-label::after {
    display: none;
}
td, th{
    white-space: nowrap !important;
}
</style>

